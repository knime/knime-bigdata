<?xml version="1.0" encoding="UTF-8"?>
<knimeNode xmlns="http://knime.org/node/v2.12" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://knime.org/node/v2.12 http://knime.org/node/v2.12.xsd"
	type="Learner" icon="icon.png">
	<name>Spark Collaborative Filtering Learner</name>
	<shortDescription>Collaborative filtering in Spark.</shortDescription>
	<fullDescription>
		<intro>
			This node utilizes the Apache Spark 
			<a href="http://spark.apache.org/docs/1.2.0/mllib-collaborative-filtering.html">collaborative filtering</a> 
			implementation.
			<p>
			<b>Notice: The matrix factorization model contains references to Spark RDDs and thus is not selfcontained. 
			The referenced Spark RDDs will be deleted, like any other Spark RDD generated in KNIME, when the node is 
			reseted or when the workflow is closed if the "Delete Spark RDDs on dispose" option is enabled for the 
			current Spark Context.</b>
			</p>
		</intro>

		<option name="Number of leading singular values">
			The number of leading singular values to keep (0 &lt; k &lt;= n). It might return less than k if there are 
			numerically zero singular values or there are not enough Ritz values converged before the maximum number 
			of Arnoldi update iterations is reached (in case that matrix A is ill-conditioned).
		</option>
		<option name="Reciprocal condition number">
		  The reciprocal condition number (rCond). All singular values smaller than rCond * sigma(0) are treated as zero, 
		  where sigma(0) is the largest singular value.
		</option>
		<option name="Compute U matrix">
		  Select this option to compute the U matrix (left singular vectors).
		</option>
	</fullDescription>

	<ports>
	    <inPort index="0" name="Ratings RDD">Spark RDD with user ratings of products</inPort>
        <outPort index="0" name="Labeled input">The input data labelled with the prediction.</outPort>
        <outPort index="1" name="Matrix factorization model (unstorable)">The matrix factorization model. 
        <b>The model is not selfcontained and thus can not be saved to file.</b></outPort>
	</ports>
</knimeNode>
