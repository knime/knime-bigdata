<?xml version="1.0" encoding="UTF-8"?>
<knimeNode xmlns="http://knime.org/node/v2.12" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://knime.org/node/v2.12 http://knime.org/node/v2.12.xsd" 
    type="Learner" icon="icon.png">
    <name>Spark Gradient-Boosted Trees</name>
	<shortDescription>Gradient-Boosted Trees (GBTs) induction performed in Spark.</shortDescription>
	<fullDescription>
		<intro>
			This node applies the Apache Spark 
			<a href="http://spark.apache.org/docs/1.2.0/mllib-ensembles.html#gradient-boosted-trees-gbts">Gradient-Boosted Trees</a> (GBTs) algorithm.
			<p>
			<b>Note:</b> GBTs do not yet support multiclass classification. For multiclass problems, please use decision trees or Random Forests.
			</p>
			<p>
            Please note that all data must be numeric, including the label column. 
            Use the Spark Category To Number nodes to convert nominal values to
            numeric columns. The mapping dictionary of the converter node is the input of the second in port of this node.
            </p>
            <p>
            Use the Spark Predictor node to apply the learned model to unseen data.
            </p>
		</intro>
    	<option name="Number of iterations">Number of iterations of boosting. In other words, the number of weak 
    	hypotheses used in the final model.</option>
    	<option name="Max number of bins">
			Maximum number of bins used for splitting features (suggested value: 100).
		</option>
		<option name="Max depth">
			 Maximum depth of the tree. E.g., depth 0 means 1 leaf node; depth 1 means 1 internal node + 2 leaf nodes. (suggested value: 4)
		</option>
		<option name="Loss function">Loss function used for minimization during gradient boosting. 
		Available functions: Log Loss, Squared Error and Absolute Error.
		For details about the loss functions see the 
		<a href="http://spark.apache.org/docs/1.2.0/mllib-ensembles.html#losses">Losses</a> documentation.
		</option>
        <option name="Is classification">Select this option for binary classification.</option>
        <option name="Learning rate">Learning rate for shrinking the contribution of each estimator. 
        The learning rate should be between in the interval (0, 1]</option>        		
		<option name="Class column">The classification column. Must be numeric.</option>
		<option name="Feature Columns">The feature columns to learn the model from. Supports only numeric columns.</option>
	</fullDescription>

    <ports>
		<inPort index="0" name="Input data">Input Spark RDD</inPort>
		<inPort optional="true" index="1" name="Mapping dictionary">PMML with the nominal values mapping dictionary</inPort>
        <outPort index="0" name="Random Forests Model">Spark MLlib Random Forests Model</outPort>
    </ports>
    
</knimeNode>
